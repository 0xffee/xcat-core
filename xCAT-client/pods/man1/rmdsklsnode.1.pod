=head1 NAME

B<rmdsklsnode> - Use this xCAT command to remove AIX/NIM diskless machine definitions.

=head1 SYNOPSIS

B<rmdsklsnode [-h | --help ]>

B<rmdsklsnode [-V|--verbose] [-f|--force] [-r|--remdef] [-i image_name] [-p|--primarySN] [-b|--backupSN] noderange>

=head1 DESCRIPTION

Use this command to remove all NIM client machine definitions that were created for the specified xCAT nodes.

The xCAT node definitions will not be removed.

The default is to assume that the NIM machine names are the same as the xCAT node names.  If you had used the "-n" option when you created the NIM machine definitions with the B<mkdsklsnode> command then the NIM machine names would be a combination of the xCAT node name and the osimage name used to initialize the NIM machine. To remove these definitions you must provide the name of the osimage that was used.

If you are using xCAT service nodes the B<rmdsklsnode> command will automatically determine the correct server(s) for the node and remove the NIM definitions on that server(s).

If the node you are trying to remove is currently running the B<rmdsklsnode> command will not remove the definitions.  You can use the "-f" option to shut down the node and remove the definition.  You can also use the "-r" option to leave the node running but remove the NIM definitions.

Use the xCAT B<rmdef> command to remove xCAT node definitions.

=head1 OPTIONS

=over 10

=item B<-f |--force>

Use the force option to stop and remove running nodes. This handles the situation where a NIM machine definition indicates that a node is still running even though it is not.

=item B<-b |--backupSN>

When using backup service nodes only update the backup.  The default is to updat
e both the primary and backup service nodes.

=item B<-h |--help>

Display usage message.

=item B<-i image_name>

The name of an xCAT image definition.

=item B<noderange>

A set of comma delimited node names and/or group names. See the "noderange" man page for details on additional supported formats.

=item B<-p|--primarySN>

When using backup service nodes only update the primary.  The default is to upda
te both the primary and backup service nodes.

=item B<-r|--remdef>		

Use this option to reset, deallocate, and remove NIM client definitions.  This option will not attempt to shut down running nodes.

=item B<-V |--verbose>

Verbose mode.

=back

=head1 RETURN VALUE

=over 3

=item 0

The command completed successfully.

=item 1

An error has occurred.

=back

=head1 EXAMPLES

1) Remove the NIM machine definition for the xCAT node named "node01".

B<rmdsklsnode node01>

2) Remove the NIM client machine definition for xCAT node "node02" that was created with the mkdsklsnode -n option and the image "AIXdskls". (i.e. NIM client machine name "node02_AIXdskls".)

B<rmdsklsnode -i AIXdskls node02>

3) Remove the NIM client definitions for all the xCAT nodes in the group "aixnodes". Attempt to shut down the nodes if they are running.

B<rmdsklsnode -f aixnodes>

4) Remove the NIM client definitions for all the xCAT nodes in the group "aixnodes".  Do not attempt to shut down any running nodes.

B<rmdsklsnode -r aixnodes>

=head1 FILES

/opt/xcat/bin/rmdsklsnode

=head1 NOTES

This command is part of the xCAT software product.

=head1 SEE ALSO

L<mkdsklsnode(1)|mkdsklsnode.1>


