start:makedns_h
description:help
cmd:makedns -h
check:rc==0
cmd:makedns --help
check:rc==0
check:output=~Usage
end

start:makedns_v
description:version
cmd:makedns -v
check:rc==0
check:output=~Version
end

start:makedns_d_node
description:makedns -d nodename
cmd:makedns -n 
check:rc==0
cmd:nslookup $$CN
check:output!~(server can't find $$CN)
cmd:makedns -d $$CN 
check:rc==0
check:output=~(Completed updating zones)
check:output=~(DNS setup is completed)
cmd:nslookup $$CN
check:output=~(server can't find $$CN)
end

start:makedns_node
description:makedns nodename
cmd:makedns -d $$CN
check:rc=0
cmd:nslookup $$CN
check:output=~(server can't find $$CN)
cmd:makedns $$CN 
check:rc==0
check:output=~(Completed updating zones)
check:output=~(DNS setup is completed)
cmd:nslookup $$CN 
check:output!~(server can't find $$CN)
end



start:makedns_n
description:makedns
cmd:makedns -d $$CN
cmd:nslookup $$CN
check:output=~(server can't find $$CN)
cmd:makedns -n
check:rc==0
check:output=~(Completed updating zones)
check:output=~(DNS setup is completed)
cmd:nslookup $$CN
check:output!~(server can't find $$CN)
end


start:makedns
description:makedns
os:Linux
cmd:makedns -d $$CN
check:rc==0
cmd:nslookup $$CN
check:output=~(server can't find $$CN)
cmd:makedns
check:rc==0
check:output=~(Completed updating zones)
check:output=~(DNS setup is completed)
cmd:service named stop
cmd:service named start
cmd:nslookup $$CN 
check:output!~(server can't find $$CN)
end

