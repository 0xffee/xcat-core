start:create_node_rest
description: create a node with REST API
cmd:restapitest -m POST -r /nodes/restnode -d '{"groups":"all","mgt":"dfm","netboot":"yaboot"}'
check:rc==201
end

start:create_node_rest2
description: create a node with REST API failure
cmd:restapitest -m POST -r /nodes/restnode -d '{"groups":"all","mgt":"dfm","netboot":"yaboot"}'
check:rc==147
check:output=~'errorcode' => '1'
end

start:get_nodes_rest
description: get all nodes with REST API
cmd:restapitest -m GET -r /nodes
check:rc==200
check:output=~'restnode'
end

start:get_node_rest
description: get single node with REST API
cmd:restapitest -m GET -r /nodes/restnode
check:rc==200
check:output=~'restnode'
end

start:node_delete_rest
description: delete node with REST API
cmd:restapitest -m DELETE -r /nodes/restnode
check:rc==200
end

start:get_nodes_rest2
description: get all nodes with REST API
cmd:restapitest -m GET -r /nodes
check:rc==200
check:output!~'restnode'
end

start:get_node_rest2
description: get single node with REST API
cmd:restapitest -m GET -r /nodes/restnode
check:rc==147
check:output=~'errorcode' => '1'
end

start:create_node_token_rest
description: create a node with REST API using authentication token
cmd:restapitest -m POST -r /nodes/restnode -d '{"groups":"all","mgt":"dfm","netboot":"yaboot"}' -t
check:rc==201
end

start:node_makehosts_rest
description: makehosts for node with REST API
cmd:restapitest -m POST -r /nodes/restnode/host
check:rc==201
end

start:node_makedns_rest
description: makehosts for node with REST API
cmd:restapitest -m POST -r /nodes/restnode/dns
check:rc==201
end

start:node_delete_dns_rest
description: delete dns for node with REST API
cmd:restapitest -m DELETE -r /nodes/restnode/dns
check:rc==200
end

start:node_change_attr_rest
description: change node attribute with REST API
cmd:restapitest -m PUT -r /nodes/restnode -d '{"mac":"00:1a:64:54:14:80"}'
check:rc==200
end

start:node_makedhcp_rest
description: makedhcp for node with REST API
cmd:restapitest -m POST -r /nodes/node1/dhcp
check:rc==201
end

start:node_delete_dhcp
description: node_delete_dhcp
cmd:restapitest -m DELETE -r /nodes/node1/dhcp
check:rc==200
end

start:node_state_rest
description: get node state with REST API
cmd:restapitest -m GET -r /nodes/restnode/nodestat
check:rc==200
check:output=~'restnode'
check:output=~'nodestat'
end

start:node_state_token_rest
description: get node state with REST API using authentication token
cmd:restapitest -m GET -r /nodes/restnode/nodestat -t
check:rc==200
check:output=~'restnode'
check:output=~'nodestat'
end
